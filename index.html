<!doctype html>

<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dr_Brand.store — متجر ملابس</title>
  <style>
    :root{--bg:#ffffff;--card:#f4f1ea;--accent:#111111;--muted:#6b6b6b;--brand:#d8c7a1}
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans Arabic',Arial; margin:0; background:var(--bg); color:var(--accent);}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid #eee}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,#222,#444);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .title{font-size:18px;font-weight:700}
    nav{display:flex;gap:12px;align-items:center}
    nav a{font-size:14px;text-decoration:none;color:var(--muted)}
    .search{flex:1;margin:0 16px}
    .search input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #e6e6e6}
    main{max-width:1100px;margin:26px auto;padding:0 16px}
    .hero{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:center}
    .hero-card{background:var(--card);padding:22px;border-radius:14px}
    .hero h1{margin:0 0 8px;font-size:28px}
    .hero p{margin:0;color:var(--muted)}
    .featured{padding:14px;border-radius:12px;background:linear-gradient(180deg,#f5f5f5,#fff);text-align:center}.controls{display:flex;gap:10px;align-items:center;margin:18px 0}
.controls select,.controls button{padding:8px 10px;border-radius:8px;border:1px solid #e6e6e6;background:white}

.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.card{background:var(--card);padding:12px;border-radius:12px;display:flex;flex-direction:column;gap:8px}
.thumb{height:240px;border-radius:10px;background-size:cover;background-position:center}
.meta{display:flex;justify-content:space-between;align-items:center}
.meta .name{font-weight:700}
.meta .price{font-weight:700}

.card .actions{display:flex;gap:8px}
.btn{padding:10px 12px;border-radius:10px;border:none;background:#111827;color:#fff;cursor:pointer}
.btn.secondary{background:transparent;border:1px solid #111827;color:var(--accent)}

/* cart */
.cart-btn{position:relative}
.cart-count{position:absolute;top:-6px;left:-6px;background:#ef4444;color:white;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px}

/* drawer */
.drawer{position:fixed;top:0;right:0;bottom:0;width:360px;background:white;box-shadow:-8px 0 30px rgba(0,0,0,0.08);transform:translateX(110%);transition:transform .28s ease;padding:18px;z-index:60}
.drawer.open{transform:translateX(0)}
.drawer h3{margin:0 0 8px}
.cart-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}
.cart-item{display:flex;gap:10px;align-items:center}
.cart-item img{width:64px;height:64px;border-radius:8px;object-fit:cover}
.cart-item .info{flex:1}
.cart-item .remove{background:transparent;border:1px solid #eee;padding:6px;border-radius:8px}
.cart-footer{position:absolute;left:0;right:0;bottom:0;padding:18px;border-top:1px solid #f0f0f0;background:white}

/* responsive */
@media (max-width:900px){
  .hero{grid-template-columns:1fr}
  .grid{grid-template-columns:repeat(2,1fr)}
  .drawer{width:100vw}
}
@media (max-width:600px){
  .grid{grid-template-columns:1fr}
  header{padding:12px}
  .search{display:none}
}

  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">DB</div>
      <div>
        <div class="title">Dr_Brand.store</div>
        <div style="font-size:12px;color:var(--muted)">ملابس - أصلي - جودة</div>
      </div>
    </div>
    <div class="search"><input id="q" placeholder="ابحث عن منتج، لون، مقاس..." /></div>
    <nav>
      <a href="#">الرئيسية</a>
      <a href="#">تواصل</a>
      <button class="cart-btn btn" id="openCart">عربة التسوق <span class="cart-count" id="cartCount">0</span></button>
    </nav>
  </header>  <main>
    <section class="hero">
      <div class="hero-card">
        <h1>Dr_Brand.store — ملابس على ذوقك</h1>
        <p>تشكيلة من الهوديز، التيشرتات، والبناطيل الواسعة. شحن داخل مصر — الدفع عند الاستلام متاح.</p>
        <div class="controls">
          <select id="category">
            <option value="all">كل المنتجات</option>
            <option value="hoodie">هوديز</option>
            <option value="tee">تيشيرتات</option>
            <option value="pants">بناطيل</option>
          </select>
          <select id="sort">
            <option value="new">الأحدث</option>
            <option value="price-asc">الأرخص</option>
            <option value="price-desc">الأغلى</option>
          </select>
          <button class="btn secondary" id="addSample">أضف منتج تجريبي</button>
        </div>
      </div><aside class="featured">
    <h3>عرض مميز</h3>
    <p>خصم 10% لأول 50 طلب — استخدم كود: DR10</p>
    <div style="height:12px"></div>
    <button class="btn" onclick="location.href='#products'">تسوق الآن</button>
  </aside>
</section>

<section id="products" style="margin-top:20px">
  <div class="grid" id="grid"></div>
</section>

  </main>  <div class="drawer" id="drawer">
    <h3>عربة التسوق</h3>
    <div id="cartList" class="cart-list"></div>
    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px"><strong>الإجمالي</strong><div id="cartTotal">0 ج.م</div></div>
      <div style="display:flex;gap:8px">
        <button class="btn" id="checkout">إتمام الطلب</button>
        <button class="btn secondary" id="clearCart">تفريغ السلة</button>
      </div>
    </div>
  </div>  <script>
    // بيانات المنتجات المبدئية
    const products = [
      {id:1,name:'هودي اوفر سايز اسود',category:'hoodie',price:435,img:'https://via.placeholder.com/600x600?text=Hoodie+1'},
      {id:2,name:'تيشيرت قطن ابيض',category:'tee',price:150,img:'https://via.placeholder.com/600x600?text=Tee+1'},
      {id:3,name:'بنطلون وايد ليج',category:'pants',price:370,img:'https://via.placeholder.com/600x600?text=Pants+1'},
      {id:4,name:'هودي رمادي كلاسيك',category:'hoodie',price:480,img:'https://via.placeholder.com/600x600?text=Hoodie+2'},
      {id:5,name:'تيشيرت بطبعة',category:'tee',price:220,img:'https://via.placeholder.com/600x600?text=Tee+2'},
      {id:6,name:'بنطلون جينز',category:'pants',price:520,img:'https://via.placeholder.com/600x600?text=Jeans+1'}
    ];

    // cart stored in localStorage
    let cart = JSON.parse(localStorage.getItem('db_cart')||'[]');

    const grid = document.getElementById('grid');
    const cartList = document.getElementById('cartList');
    const cartCount = document.getElementById('cartCount');
    const cartTotal = document.getElementById('cartTotal');
    const drawer = document.getElementById('drawer');

    function renderProducts(list){
      grid.innerHTML='';
      list.forEach(p=>{
        const card = document.createElement('div');card.className='card';
        card.innerHTML = `
          <div class="thumb" style="background-image:url('${p.img}')"></div>
          <div class="meta"><div class="name">${p.name}</div><div class="price">${p.price} ج.م</div></div>
          <div style="color:var(--muted);font-size:13px">قسم: ${p.category}</div>
          <div class="actions">
            <button class="btn" data-id="${p.id}" onclick="addToCart(${p.id})">أضف للسلة</button>
            <button class="btn secondary" onclick="viewProduct(${p.id})">تفاصيل</button>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    function viewProduct(id){
      const p = products.find(x=>x.id===id);
      if(!p) return alert('مفقود');
      alert(p.name + '\nالسعر: ' + p.price + ' ج.م');
    }

    function addToCart(id){
      const p = products.find(x=>x.id===id);
      if(!p) return;
      const found = cart.find(i=>i.id===id);
      if(found) found.qty++;
      else cart.push({id:p.id,name:p.name,price:p.price,img:p.img,qty:1});
      saveCart();
      renderCart();
    }

    function saveCart(){
      localStorage.setItem('db_cart',JSON.stringify(cart));
    }

    function renderCart(){
      cartList.innerHTML='';
      if(cart.length===0){
        cartList.innerHTML = '<div style="color:var(--muted)">السلة فارغة</div>';
        cartCount.textContent = 0;
        cartTotal.textContent = '0 ج.م';
        return;
      }
      cart.forEach(item=>{
        const el = document.createElement('div');el.className='cart-item';
        el.innerHTML = `
          <img src="${item.img}" alt="${item.name}" />
          <div class="info"><div style="font-weight:700">${item.name}</div><div style="color:var(--muted)">${item.qty} × ${item.price} ج.م</div></div>
          <div style="text-align:center"><button class="remove" onclick="dec(${item.id})">-</button><div style="height:6px"></div><button class="remove" onclick="inc(${item.id})">+</button><div style="height:8px"></div><button class="remove" onclick="removeItem(${item.id})">حذف</button></div>
        `;
        cartList.appendChild(el);
      });
      const total = cart.reduce((s,i)=>s + i.price * i.qty,0);
      cartCount.textContent = cart.reduce((s,i)=>s + i.qty,0);
      cartTotal.textContent = total + ' ج.م';
    }

    function inc(id){ const it = cart.find(i=>i.id===id); if(it){it.qty++; saveCart(); renderCart();} }
    function dec(id){ const it = cart.find(i=>i.id===id); if(it){ it.qty = Math.max(1,it.qty-1); saveCart(); renderCart(); } }
    function removeItem(id){ cart = cart.filter(i=>i.id!==id); saveCart(); renderCart(); }

    // controls
    document.getElementById('openCart').addEventListener('click',()=>{ drawer.classList.toggle('open'); renderCart(); });
    document.getElementById('clearCart').addEventListener('click',()=>{ if(confirm('تفريغ السلة؟')){ cart=[]; saveCart(); renderCart(); } });
    document.getElementById('checkout').addEventListener('click',()=>{ if(cart.length===0) return alert('السلة فارغة'); alert('تم إرسال طلبك (محاكاة) - إجمالي: ' + cart.reduce((s,i)=>s + i.price*i.qty,0) + ' ج.م'); cart = []; saveCart(); renderCart(); drawer.classList.remove('open'); });

    // search, filter, sort
    document.getElementById('q').addEventListener('input',(e)=>{ const q = e.target.value.trim().toLowerCase(); filterAndRender(q); });
    document.getElementById('category').addEventListener('change',()=>filterAndRender(document.getElementById('q').value));
    document.getElementById('sort').addEventListener('change',()=>filterAndRender(document.getElementById('q').value));

    function filterAndRender(q=''){
      const cat = document.getElementById('category').value;
      const sort = document.getElementById('sort').value;
      let list = products.filter(p=> (cat==='all' || p.category===cat) && (p.name.toLowerCase().includes(q.toLowerCase()) || p.category.includes(q)) );
      if(sort==='price-asc') list.sort((a,b)=>a.price-b.price);
      if(sort==='price-desc') list.sort((a,b)=>b.price-a.price);
      if(sort==='new') list = list; // بيانات ثابتة الآن
      renderProducts(list);
    }

    // sample add product button
    document.getElementById('addSample').addEventListener('click',()=>{
      const newid = products.length + 1;
      const sample = {id:newid,name:'منتج تجريبي '+newid,category:'tee',price:Math.floor(Math.random()*400)+120,img:'https://via.placeholder.com/600x600?text=New+'+newid};
      products.push(sample);
      filterAndRender(document.getElementById('q').value);
    });

    // init
    filterAndRender();
    renderCart();

  </script></body>
</html>
